// vi.mock("@/hooks/useSnackBar", () => ({
//   __esModule: true,
//   default: () => ({
//     success: vi.fn(),
//     error: vi.fn(),
//   }),
// }));

// test("renders AddNote component", () => {
//   render(<AddNote onAddNote={vi.fn()} />);
//   expect(screen.getByRole("textbox")).toBeInTheDocument();
//   expect(screen.getByRole("button", { name: /ajouter/i })).toBeInTheDocument();
// });

// test("updates textarea value on change", () => {
//   render(<AddNote onAddNote={vi.fn()} />);
//   const textarea = screen.getByRole("textbox");
//   fireEvent.change(textarea, { target: { value: "New note" } });
//   expect(textarea).toHaveValue("New note");
// });

// test("shows error message when trying to add an empty note", async () => {
//   render(<AddNote onAddNote={vi.fn()} />);
//   fireEvent.click(screen.getByRole("button", { name: /ajouter/i }));
//   expect(await screen.findByText(/la note ne peut pas être vide/i)).toBeInTheDocument();
// });

// test("calls onAddNote with note and handles success response", async () => {
//   const onAddNoteMock = vi.fn().mockResolvedValue({ success: "Note added successfully" });
//   const notif = require("@/hooks/useSnackBar").default();

//   render(<AddNote onAddNote={onAddNoteMock} />);
//   const textarea = screen.getByRole("textbox");
//   fireEvent.change(textarea, { target: { value: "New note" } });
//   fireEvent.click(screen.getByRole("button", { name: /ajouter/i }));

//   expect(onAddNoteMock).toHaveBeenCalledWith("New note");
//   await screen.findByRole("textbox", { name: /ajouter/i });
//   expect(notif.success).toHaveBeenCalledWith("Note added successfully");
//   expect(textarea).toHaveValue("");
// });

// test("calls onAddNote with note and handles error response", async () => {
//   const onAddNoteMock = vi.fn().mockResolvedValue({ error: "Failed to add note" });
//   const notif = require("@/hooks/useSnackBar").default();

//   render(<AddNote onAddNote={onAddNoteMock} />);
//   const textarea = screen.getByRole("textbox");
//   fireEvent.change(textarea, { target: { value: "New note" } });
//   fireEvent.click(screen.getByRole("button", { name: /ajouter/i }));

//   expect(onAddNoteMock).toHaveBeenCalledWith("New note");
//   await screen.findByRole("textbox", { name: /ajouter/i });
//   expect(notif.error).toHaveBeenCalledWith("Failed to add note");
// });

// test("clears error message when user starts typing again", () => {
//   render(<AddNote onAddNote={vi.fn()} />);
//   const textarea = screen.getByRole("textbox");
//   fireEvent.click(screen.getByRole("button", { name: /ajouter/i }));
//   expect(screen.getByText(/la note ne peut pas être vide/i)).toBeInTheDocument();

//   fireEvent.change(textarea, { target: { value: "New note" } });
//   expect(screen.queryByText(/la note ne peut pas être vide/i)).not.toBeInTheDocument();
// });